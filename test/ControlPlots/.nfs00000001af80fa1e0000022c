void analyseYield_mc(const char* WHICHHIST, const char* NTUPLEWEIGHT, const char* MOMCORRTYPE) {

  // directory with data
  TString protocol = "file://";
  TString dirname = "/scratch/scratch95/a/asvyatko/";

  // data
  TFileCollection* c1a = new TFileCollection("DYM1020","DYM1020");
  c1a->Add(protocol+dirname+"DYM1020"+"/ntuple*.root");

  TFileCollection* c1b = new TFileCollection("DYM20","DYM20");
  c1b->Add(protocol+dirname+"DYM20"+"/ntuple*.root");

  gEnv->SetValue("ProofLite.Sandbox", "/home/asvyatko/DYStudy/CMSSW_5_3_3_patch2/src/DimuonAnalysis/DYPackage/test/ControlPlots/proofbox/");
  TProof* p = TProof::Open("workers=10");
  p->RegisterDataSet("DYM1020", c1a,"OV");
  p->RegisterDataSet("DYM20", c1b,"OV");

  p->ShowDataSets();
  TObjString* useNtupleWeightFlag = new TObjString(NTUPLEWEIGHT);
  p->AddInput(new TNamed("useNtupleWeightFlag",NTUPLEWEIGHT));

  TObjString* histogramThis = new TObjString(WHICHHIST);
  p->AddInput(new TNamed("histogramThis",WHICHHIST));

  TObjString* momCorrType = new TObjString(MOMCORRTYPE);
  p->AddInput(new TNamed("momCorrType",MOMCORRTYPE));

  gROOT->Time();
  p->SetParameter("PROOF_LookupOpt", "all");
  //p->Process("DYM1020#/recoTree/DiMuonTree","EventSelector_CP.C+");
  p->Process("DYM20#/recoTree/DiMuonTree","EventSelector_CP.C+");

}
